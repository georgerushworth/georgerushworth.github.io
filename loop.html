<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US Economic Dashboard | George Rushworth</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    
    <!-- Link to Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;600;700&family=Instrument+Serif:ital,wght@0,400;0,600;1,400;1,600&display=swap" rel="stylesheet">
    
    <!-- Theme CSS -->
    <link rel="stylesheet" href="theme.css">
    
    <!-- Emoji favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“Š</text></svg>">
    
    <style>
        :root {
            --bs-body-font-family: 'Instrument Serif', serif;
            --bs-font-sans-serif: 'Instrument Sans', sans-serif;
        }
        
        body {
            background-color: #F8FAFC;
            font-family: 'Instrument Sans', sans-serif !important;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Instrument Serif', serif !important;
        }
        
        .navbar-brand, .navbar-brand span {
            font-family: 'Instrument Serif', serif !important;
        }
        
        nav a, nav a.link-fancy, .link-fancy, .display-6 {
            font-family: 'Instrument Serif', serif !important;
        }
        
        p, li, blockquote {
            font-family: 'Instrument Sans', sans-serif !important;
            font-size: 1.15rem;
            line-height: 1.7;
        }
        
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin: 40px 0;
            justify-items: center;
        }
        
        .chart-container {
            background: transparent;
            border: none;
            padding: 0;
            width: 100%;
            display: flex;
            justify-content: center;
        }
        
        @media (max-width: 992px) {
            .chart-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 576px) {
            .chart-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#navScroll">
    <nav id="navScroll" class="navbar navbar-light py-vh-3 pb-0 px-vw-5" tabindex="0">
        <div class="container-fluid d-flex justify-content-between">
            <!-- Left side - Name/Home link -->
            <a class="navbar-brand pe-md-4 fs-4 text-center" href="index.html">
                <span class="ms-md-1 mt-1 fw-bolder me-md-5" style="font-family: 'Instrument Serif', serif !important;">George Rushworth</span>
            </a>
            <!-- Right side - Social links -->
            <div class="d-flex align-items-center">
                <a href="https://georgerushworth.github.io/home.html" aria-label="Home" class="fs-6 link-fancy me-2">
                    Home </a>
               <span class="mx-2">|</span>
                <a href="https://georgerushworth.github.io/portfolio.html" aria-label="Portfolio" class="fs-6 link-fancy me-2">
                    Portfolio </a>
                 <span class="mx-2">|</span>
                <a href="https://georgerushworth.github.io/project.html" aria-label="Project" class="fs-6 link-fancy me-2">
                    Project </a>
                <span class="mx-2">|</span>
                <a href="https://github.com/georgerushworth/georgerushworth.github.io" aria-label="GitHub" class="fs-6 link-fancy me-2">
                    GitHub </a>
                <span class="mx-2">|</span>
                <a href="https://www.linkedin.com/in/grushworth/" aria-label="LinkedIn" class="fs-6 link-fancy">
                    LinkedIn
                </a>
            </div>
        </div>
    </nav>

    <main class="container py-vh-3">
        <div class="row d-flex justify-content-center text-center">
            <div class="col-12 col-lg-10 col-xl-8">
                <h1 class="display-large fw-bold">US Economic Indicators Dashboard</h1>
                <p class="lead pt-2 py-vh-2">Six key metrics tracking the US economy from 2015-2025, downloaded via FRED API using Python loops.</p>
            </div>

            <div class="row d-flex justify-content-center text-start">
                <div class="col-12 col-lg-10 col-xl-8 py-vh-2">
                    
                    <p>Google Colab Notebook: <a href="YOUR_COLAB_NOTEBOOK_LINK" target="_blank">View batch download code</a></p>
                    
                    <div style="height: 40px;"></div>

                    <!-- Charts will be inserted here by JavaScript -->
                    <div class="chart-grid" id="chartGrid"></div>

                </div>
            </div>
        </div>
    </main>

    <!-- Navigation footer -->
    <div class="container d-flex justify-content-between">
        <div class="col border-top border-end py-vh-3 d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
            </svg>
            <a href="portfolio.html" class="ms-2 display-6">Portfolio</a>
        </div>
        <div class="col border-top text-end py-vh-3 d-flex align-items-center justify-content-end">
            <a href="project.html" class="me-2 display-6 d-flex align-items-center">
                Project
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-arrow-right ms-2" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                </svg>
            </a>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container text-center small py-vh-3">
            Template inspired by <a href="https://templatedeck.com" class="link-fancy" target="_blank">templatedeck.com</a>
        </div>
    </footer>

    <script>
        // Array of series with their GitHub raw URLs
        const series = [
            {
                name: 'US GDP',
                url: 'https://raw.githubusercontent.com/georgerushworth/georgerushworth.github.io/refs/heads/main/us_gdp.json',
                title: 'US GDP (Billions $)'
            },
            {
                name: 'US Unemployment',
                url: 'https://raw.githubusercontent.com/georgerushworth/georgerushworth.github.io/refs/heads/main/us_unemployment.json',
                title: 'US Unemployment (%)'
            },
            {
                name: 'US CPI',
                url: 'https://raw.githubusercontent.com/georgerushworth/georgerushworth.github.io/refs/heads/main/us_inflation.json',
                title: 'US CPI (Index)'
            },
            {
                name: '10-Year Treasury',
                url: 'https://raw.githubusercontent.com/georgerushworth/georgerushworth.github.io/refs/heads/main/us_10year_treasury.json',
                title: '10-Year Treasury (%)'
            },
            {
                name: 'Fed Funds Rate',
                url: 'https://raw.githubusercontent.com/georgerushworth/georgerushworth.github.io/refs/heads/main/us_fed_funds_rate.json',
                title: 'Fed Funds Rate (%)'
            },
            {
                name: '30-Year Mortgage',
                url: 'https://raw.githubusercontent.com/georgerushworth/georgerushworth.github.io/refs/heads/main/us_mortgage_rate.json',
                title: '30-Year Mortgage (%)'
            }
        ];

        // LOOP to create and embed all charts
        series.forEach((item, index) => {
            // Create container for this chart
            const container = document.createElement('div');
            container.className = 'chart-container';
            container.id = `chart${index}`;
            document.getElementById('chartGrid').appendChild(container);

            // Vega-Lite specification matching your style
            const spec = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "width": 200,
                "height": 150,
                "title": {
                    "text": item.title,
                    "font": "Instrument Sans, sans-serif",
                    "fontSize": 13,
                    "fontWeight": 600,
                    "color": "#1a1a1a",
                    "anchor": "start",
                    "offset": 8
                },
                "data": {
                    "url": item.url,
                    "format": {"type": "json", "property": "observations"}
                },
                "transform": [
                    {"filter": "datum.value != '.'"},
                    {"filter": "toDate(datum.date) >= toDate('2015-01-01')"}
                ],
                "encoding": {
                    "x": {
                        "field": "date",
                        "type": "temporal",
                        "title": null,
                        "axis": {
                            "grid": false,
                            "labelColor": "#676A86",
                            "labelFontSize": 10,
                            "labelOpacity": 0.7,
                            "tickColor": "#676A86",
                            "tickOpacity": 0.5,
                            "domainColor": "#676A86",
                            "domainOpacity": 0.5,
                            "format": "%Y"
                        }
                    }
                },
                "layer": [
                    {
                        "mark": {
                            "type": "line",
                            "color": "#4269d0",
                            "strokeWidth": 2
                        },
                        "encoding": {
                            "y": {
                                "field": "value",
                                "type": "quantitative",
                                "scale": {"zero": false},
                                "title": null,
                                "axis": {
                                    "gridColor": "#676A86",
                                    "gridDash": [1, 5],
                                    "gridOpacity": 0.5,
                                    "labelColor": "#676A86",
                                    "labelFontSize": 10,
                                    "labelOpacity": 0.7,
                                    "tickColor": "#676A86",
                                    "tickOpacity": 0.5,
                                    "domainColor": "#676A86",
                                    "domainOpacity": 0.5,
                                    "tickCount": 4
                                }
                            }
                        }
                    },
                    {
                        "mark": "rule",
                        "encoding": {
                            "opacity": {
                                "condition": {"value": 0.3, "param": "hover", "empty": false},
                                "value": 0
                            },
                            "tooltip": [
                                {"field": "date", "type": "temporal", "title": "Date", "format": "%b %Y"},
                                {"field": "value", "type": "quantitative", "title": "Value", "format": ".2f"}
                            ]
                        },
                        "params": [
                            {
                                "name": "hover",
                                "select": {
                                    "type": "point",
                                    "fields": ["date"],
                                    "nearest": true,
                                    "on": "pointerover",
                                    "clear": "pointerout"
                                }
                            }
                        ]
                    }
                ],
                "config": {
                    "font": "Instrument Sans, sans-serif",
                    "view": {"stroke": "transparent"},
                    "background": "#F8FAFC"
                }
            };

            // Embed the chart
            vegaEmbed(`#chart${index}`, spec, {actions: false});
        });

        // Handle external links
        document.querySelectorAll("a").forEach(link => {
            const href = link.href.toLowerCase();
            const currentDomain = window.location.hostname;
            const isInternalLink = href.includes('#') || link.hostname === currentDomain;
            
            if (!isInternalLink) {
                link.setAttribute("target", "_blank");
                link.setAttribute("rel", "noopener noreferrer");
            }
        });
    </script>
</body>
</html>
