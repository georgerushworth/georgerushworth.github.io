{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json",
  "title": {
    "text": "The $200bn Gamble: Spending vs. Earning",
    "subtitle": ["2025 TTM Estimates. Red = Spend, Green = Revenue."],
    "anchor": "start",
    "offset": 20
  },
  "width": 270,
  "height": 150,
  "data": {
    "url": "https://raw.githubusercontent.com/georgerushworth/georgerushworth.github.io/refs/heads/main/ai_gap_data.csv"
  },
  "facet": {
    "field": "company", 
    "type": "nominal",
    "header": {
      "title": null,
      "labelFontSize": 14,
      "labelFont": "Instrument Sans",
      "labelFontWeight": 600
    }
  },
  "columns": 2,
  "spacing": 40,
  "spec": {
    "mark": {
      "type": "bar", 
      "cornerRadiusTopLeft": 3, 
      "cornerRadiusTopRight": 3,
      "size": 40
    },
    "encoding": {
      "x": {
        "field": "metric",
        "type": "nominal",
        "title": null,
        "axis": {
          "labelAngle": 0,
          "labelFont": "Instrument Sans, sans-serif",
          "labelFontSize": 11,
          "labelColor": "#676A86"
        }
      },
      "y": {
        "field": "value",
        "type": "quantitative",
        "title": null,
        "axis": {
          "format": "$.0f",
          "tickCount": 3,
          "gridColor": "#676A86",
          "gridDash": [2, 2],
          "gridOpacity": 0.5,
          "labelFont": "Instrument Sans, sans-serif",
          "labelColor": "#676A86"
        }
      },
      "color": {
        "field": "metric",
        "type": "nominal",
        "scale": {"domain": ["Spend", "Earn"], "range": ["#ef4444", "#10b981"]},
        "legend": null
      },
      "tooltip": [
        {"field": "company", "title": "Company"},
        {"field": "metric", "title": "Type"},
        {"field": "value", "title": "Billions", "format": "$.1f"}
      ]
    }
  },
  "resolve": {"scale": {"y": "shared"}},
  "config": {
    "axis": {
      "domainColor": "#676A86",
      "domainOpacity": 0.5,
      "gridColor": "#676A86",
      "gridDash": [2, 2],
      "gridOpacity": 0.5,
      "labelColor": "#676A86",
      "labelFont": "Instrument Sans, sans-serif",
      "labelFontSize": 11,
      "labelOpacity": 0.7,
      "tickColor": "#676A86",
      "tickOpacity": 0.5,
      "tickSize": 4,
      "titleColor": "#676A86",
      "titleOpacity": 0.8
    },
    "axisX": {
      "gridColor": "#676A86",
      "gridDash": [1, 5],
      "gridOpacity": 0.5,
      "ticks": false
    },
    "axisY": {
      "gridColor": "#676A86",
      "gridDash": [1, 5],
      "gridOpacity": 0.5,
      "ticks": false
    },
    "background": "#F8FAFC",
    "font": "Instrument Sans, sans-serif",
    "title": {
      "color": "#1a1a1a",
      "font": "Instrument Sans, sans-serif",
      "fontSize": 16,
      "subtitleColor": "#676A86",
      "subtitleFontSize": 14
    },
    "view": {
      "stroke": "transparent"
    }
  }
}
